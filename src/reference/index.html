<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .parent{
            display: flex;
            padding: 20px 20px;
            gap: 20px;
            flex-wrap: wrap;
        }
        .parent:nth-child(odd){
            background-color: red;
        }
        .parent:nth-child(even){
            background-color: bisque;
        }
        .child{
            width: 200px;
            height: 200px;
        }
        .child:nth-child(odd){
            background-color: aqua;
        }
        .child:nth-child(even){
            background-color: green;
        }
        /* .slide-top {
            -webkit-animation: slide-top 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
                    animation: slide-top 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
        }
        @-webkit-keyframes slide-top {
            0% {
                -webkit-transform: translateY(0);
                        transform: translateY(0);
            }
            100% {
                -webkit-transform: translateY(-100px);
                        transform: translateY(-100px);
            }
            }
            @keyframes slide-top {
            0% {
                -webkit-transform: translateY(0);
                        transform: translateY(0);
            }
            100% {
                -webkit-transform: translateY(-100px);
                        transform: translateY(-100px);
            }
        } */
        .slide-top {
            opacity: 0;
            transform: translateY(50px);
            transition: transform 1s, opacity 1s;
        }
        .show-slide-top {
            opacity: 1;
            transform: translateY(0);
        }


    </style>
</head>
<body>
    <section class="parent" animationName="slide-top">
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
    </section>
    <section class="parent" animationName="slide-top">
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
    </section>
    <section class="parent" animationName="slide-top">
        <div class="child slide-left"></div>
        <div class="child slide-left"></div>
        <div class="child slide-left"></div>
        <div class="child slide-left"></div>
        <div class="child slide-left"></div>
        <div class="child slide-left"></div>
    </section>
    <section class="parent" animationName="slide-top">
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
    </section>
    <section class="parent slide-top" animationName="slide-top">
        <section class="child slide-top" animationName="slide-top"></section>
        <section class="child slide-top" animationName="slide-top">sf</section>
        <section class="child slide-top" animationName="slide-top"></section>
        <section class="child slide-top" animationName="slide-top"></section>
        <section class="child slide-top" animationName="slide-top"></section>
        <section class="child slide-top" animationName="slide-top"></section>
        <section class="child slide-top" animationName="slide-top"></section>
    </section>
    <div class="parent">
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
    </div>

    <script>
        // document.addEventListener("DOMContentLoaded", function() {
        //     let slide_top_blocks = document.querySelectorAll('.slide-top');

        //     let options = { threshold: 0.1 };

        //     let observer = new IntersectionObserver((entries, observer) => {
        //         entries.forEach(entry => {
        //             if (entry.isIntersecting) {
        //                 entry.target.classList.add('show-slide-top');
        //                 observer.unobserve(entry.target); // Stops observing the element after the first intersection
        //             }
        //         });
        //     }, options);
        //     slide_top_blocks.forEach(block => {
        //         observer.observe(block);
        //     });
        // });

        document.addEventListener("DOMContentLoaded", function() {
            let slide_top_blocks = document.getElementsByTagName("section");

            let options = { threshold: 0.1 };
            
            slide_top_blocks.forEach(block => {
                let animationName = block.getAttribute("animationName")
                let observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('show-'+animationName);
                        observer.unobserve(entry.target); // Stops observing the element after the first intersection
                    }
                });
                }, options);
                observer.observe(block);
            });
            
            // slide_top_blocks.forEach(block => {
            //     observer.observe(block);
            // });
    });

</script>
</body>
</html>