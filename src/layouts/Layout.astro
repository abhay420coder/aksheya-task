---
import Home from "../pages/Home.astro";
// import "../styles/global.css";

---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AKESHYA</title>
    <link rel="icon" type="image/png" href="/src/assets/img/favicon2.png">
    <link rel="apple-touch-icon" type="image/png" href="/src/assets/img/favicon2.png">
    <meta name="description" content="We are Akeshya, a firm that specializes in web design and marketing. We help transform ideas into reality with a team of passionate graphic designers, web developers, and seasoned marketing advisors.">
    <meta name="keywords" content="akeshya,webdevlopment,digitalmarketing">
    <!-- CSS Files -->
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"> -->

    <link rel="stylesheet" href="/src/styles/global.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <!-- <link rel="stylesheet" href="bower_components/aos/dist/aos.css" /> -->
  </head>
  <body>
    <Home></Home>
    <slot />
    <!-- <script src="/src/scripts/scroll.js"></script> -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script> -->
    <!-- <script src="bower_components/aos/dist/aos.js"></script>  -->
    <script>
      // AOS.init();
      document.addEventListener('DOMContentLoaded', () => {
  const counters = document.querySelectorAll('.purecounter');
  let counterActivated = Array(counters.length).fill(false);

  const isInViewport = (element) => {
    const rect = element.getBoundingClientRect();
    return (
      rect.top >= 0 &&
      rect.left >= 0 &&
      rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
      rect.right <= (window.innerWidth || document.documentElement.clientWidth)
    );
  };

  const startCounter = (counter, index) => {
    const startValue = parseInt(counter.getAttribute('data-purecounter-start'));
    const endValue = parseInt(counter.getAttribute('data-purecounter-end'));
    const duration = parseInt(counter.getAttribute('data-purecounter-duration')) * 1000;

    let startTime = null;

    const updateCounter = (timestamp) => {
      if (!startTime) startTime = timestamp;
      const progress = timestamp - startTime;
      const currentValue = Math.min(Math.floor(progress / duration * (endValue - startValue) + startValue), endValue);

      counter.textContent = currentValue;

      if (progress < duration) {
        requestAnimationFrame(updateCounter);
      } else {
        counter.textContent = endValue;
      }
    };

    requestAnimationFrame(updateCounter);
    counterActivated[index] = true; // Mark this counter as activated
  };

  const checkCounters = () => {
    counters.forEach((counter, index) => {
      if (!counterActivated[index] && isInViewport(counter)) {
        startCounter(counter, index);
      }
    });
  };

  window.addEventListener('scroll', checkCounters);
  window.addEventListener('resize', checkCounters); // Check on resize as well
  checkCounters(); // Initial check in case some counters are already in view
});

    </script>
  </body>
</html>

<style lang=css">


</style>